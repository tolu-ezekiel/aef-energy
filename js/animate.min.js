Port = {
	initialize: function () {
		Port.Animate();

	    $('.link').on('click', function() {
			$('.link').removeClass('selected');
			$(this).addClass('selected');
		});

		$('#logo').on('click', function(){
			$('.link').removeClass('selected');
		});

		$('.footer-link').on('click', function(){
			$('.link').removeClass('selected');
		});
		 // use parallax effect for mobile
		var ismobile = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
		if (ismobile){
			$(".about").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center"});
			$(".capabilities").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center" });
			$(".strategic").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center"});
			$(".consulting").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center" });
			$(".training").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center"});
			$(".business").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center"});
			$(".contact").css({"background": "url(./img/portfolio-mobile.png) no-repeat center center"});
		};

		$('ul.nav li.dropdown').hover(function() {
			$(this).find('.dropdown-menu').stop(true, true).delay(200).fadeIn(500);
			}, function() {
				$(this).find('.dropdown-menu').stop(true, true).delay(200).fadeOut(500);
		});

		$(function() {
		    $('#scrollUp').hide();
		    $(window).on("scroll", function() {
				var about = $(".about").offset().top;
				var capabilities = $(".capabilities").offset().top;
				var strategic = $(".strategic").offset().top;
				var consulting = $(".consulting").offset().top;
				var training = $(".training").offset().top;
				var contact = $(".contact").offset().top;
				var business = $(".business").offset().top;

		    	if($(window).scrollTop() > capabilities) {
		    		$('#scrollUp').show();
		    	} else {
		    		$('#scrollUp').hide();
		    	}

		        if($(window).scrollTop() >= about && $(window).scrollTop() < capabilities) {
					$('.link').removeClass('selected');
					$('#about-link').addClass('selected');
		        } else if($(window).scrollTop() >= capabilities && $(window).scrollTop() < strategic) {
					$('.link').removeClass('selected');
					$('#capabilities-link').addClass('selected');
		        } else if($(window).scrollTop() >= strategic && $(window).scrollTop() < consulting) {
					$('.link').removeClass('selected');
					$('#strategic-link').addClass('selected');
		        } else if($(window).scrollTop() >= consulting && $(window).scrollTop() < training) {
					$('.link').removeClass('selected');
					$('#consulting-link').addClass('selected');
		        } else if($(window).scrollTop() >= training && $(window).scrollTop() < business) {
					$('.link').removeClass('selected');
					$('#training-link').addClass('selected');
		        } else if ($(window).scrollTop() >= business && $(window).scrollTop() < contact) {
					$('.link').removeClass('selected');
					$('#business-link').addClass('selected');
		        } else if($(window).scrollTop() >= contact) {
					$('.link').removeClass('selected');
					$('#contact-link').addClass('selected');
		        } else {
					$('.link').removeClass('selected');
		        }
		    });
		});

		$(".navbar-nav li a").click(function(event) {
		    if (!$(this).parent().hasClass('dropdown')) {
		        $(".navbar-collapse").collapse('hide');
		    }
		});
	},

	Animate: function(){
		$('a[href*=#]:not([href=#])').click(function() {
		    if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		      var target = $(this.hash);
		      target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
		      if (target.length) {
		        $('html,body').animate({
		          scrollTop: target.offset().top
		        }, 1000);
		        return false;
		      }
		    }
	  	});
	}
}

$(document).ready(Port.initialize);


